# ActiveRecord を使いこなせる

TODO アプリの続きとして取り組んでください。

## 1. ActiveRecord とは

ActiveRecord とは何か、使うメリットは何か、プログラミング初心者にもわかるように説明してください。

また、ActiveRecord は Active Record パターンというデザインパターンを元に設計されています。Active Record パターンとは何かかも説明してください。

A. ActiveRecordはRuby on Railsの中でデータベースとのやり取りを担当する部分です。

## メリット
- はSQLを直接書く必要がなくデータベースを簡単に操作できること
- 様々なDBMSに対応しているため変更しても大部分のコードを変更する必要がない
- バリデーション（データの正当性をチェックする機能）があるため不正なデータがデータベースに保存されるのを防げます
- マイグレーション機能にてデータベースのスキーマをコードで管理できます。なのでデータベースの構造をgitを使ってバージョン管理できます。

## 2. 全データの取得

Rails のコンソールを立ち上げてください。次に、Rails コンソール上で `Todo` モデルの全データを取得してください。

A. rails console

Todo.all

## 3. 実行される SQL クエリの確認

全データの取得をする際に実行される SQL クエリを確認してください。

Rails の ActiveRecord は SQL のクエリを意識せずに書けるのは便利ですが、一方でクエリを意識しないとパフォーマンスの悪いクエリを書いてしまうリスクもあるため、実行されるクエリを確認することは重要です。

A. SELECT "todos".* FROM "todos"

## 4. 特定のデータの取得

`Todo` モデルの中から、`title` に ◯◯ を含むデータ（◯◯ にはご自身が保存したデータを指定）を取得してください。

また、その際に実行される SQL クエリも確認してください。

A. Todo.where(title: "宿題")

SELECT "todos".* FROM "todos" WHERE "todos"."title" = ?  [["title", "宿題"]]

## 5. バリデーション

TODO のタイトルが空の場合は、タスクを追加できないようにバリデーションを設定してください。またタイトルが空のまま保存しようとした場合、「タスクのタイトルを入力してください」というバリデーションエラーメッセージを TODO の新規作成ページ上に表示してください。